# PH2-04: 課題カードに進捗ステータスを表示・更新する

## 1. メタ情報
- **タスクID**: PH2-04
- **タイトル**: 課題カードの進捗表示＆更新UI
- **フェーズ**: Phase2
- **カテゴリ**: Frontend
- **担当**: _(TBD)_
- **ステータス**: Planned
- **関連Issue/PR**: PH2-03

## 2. 背景・目的
- Backendでステータス管理ができるようになったら、フロントでも視覚的に状態を表示し更新できる必要がある。

## 3. ゴールと非ゴール
- **ゴール**
  - 課題リスト/カードにステータスバッジを表示。
  - ステータス変更UI（例: ドロップダウン）でAPIを呼び出し更新。
- **非ゴール**
  - 詳細な学習履歴の表示（別タスク）。

## 4. スコープ詳細
- **対象コード**: `HarmonyTaskListItem`, `HarmonyTaskGridItem`, APIクライアント。

## 5. 実施ステップ
1. APIクライアントにステータス取得/更新メソッドを追加。
2. 課題データにステータスを合流させる（props拡張）。
3. UI上にバッジ・変更操作を追加。
4. テストでクリック→API呼び出しを確認。

## 6. 成果物
- UI/ロジック実装 + テスト。

## 7. 依存・ブロッカー
- **前提**: PH2-03。
- **考慮事項**: 極力1操作で更新できるUX、Undoの必要性を検討。

## 8. リスクと対策
| リスク | 影響 | 対策 |
| --- | --- | --- |
| API遅延でUIが不安定 | ユーザー混乱 | 楽観的更新 + エラートースト |

## 9. テスト
- Vitest/RTL + Storybook（ステータス別の表示確認）。

## 10. 計測
- なし。

## 11. ドキュメント
- UI仕様を `development-guidelines` に追記。

## 12. タイムライン
- TBD

## 13. チェックリスト
- [ ] API拡張
- [ ] UI実装
- [ ] テスト
- [ ] PRマージ

---
**考慮事項**: ステータス変更は履歴を残すべきか要確認。*** End Patch
