# PH0-09: CIでフロントビルド/テストを実行する

## 1. メタ情報
- **タスクID**: PH0-09
- **タイトル**: GitHub Actionsでフロントのビルド/テストを自動化
- **フェーズ**: Phase0
- **カテゴリ**: DX
- **担当**: _(TBD)_
- **ステータス**: Planned
- **関連Issue/PR**: -

## 2. 背景・目的
- 現状CIでフロントのビルド/テストが走っておらず、ローカル依存のため回帰が埋もれやすい。
- Linux（WSL相当）ランナーで `npm ci`, `npm run build`, `npm run test` を自動実行し品質を担保する。

## 3. ゴールと非ゴール
- **ゴール**
  - GitHub Actions（または同等CI）のワークフローを追加。
- **非ゴール**
  - Backendテスト統合（既存ワークフローで扱う）。

## 4. スコープ詳細
- **対象**: `.github/workflows/frontend.yml`（新規）など。
- **参照**: npm scripts, Phase0タスク。

## 5. 実施ステップ
1. 既存ワークフローを確認（あれば統合可否を判断）。
2. `actions/setup-node` で Node をインストールし、`npm ci` → `npm run build` → `npm run test` を定義。
3. npmキャッシュ設定。
4. バッジやREADMEへの記載は任意。

## 6. 成果物
- CIワークフローPR。

## 7. 依存・ブロッカー
- **前提**: PH0-01〜05 でローカルビルドが通ること。
- **考慮事項**: ネットワーク制限で依存取得に失敗しないか確認。

## 8. リスクと対策
| リスク | 影響 | 対策 |
| --- | --- | --- |
| ジョブ時間が長い | CI遅延 | キャッシュ・`npm ci --prefer-offline`活用 |
| 秘密情報不足 | テスト失敗 | 環境変数が必要かどうか事前に確認 |

## 9. テスト計画
- PR上でCIが成功することを確認。

## 10. 計測
- 初回ジョブ時間を記録し、最適化余地を検討。

## 11. ドキュメント
- READMEにCIバッジを追加するか検討。

## 12. タイムライン
- TBD

## 13. チェックリスト
- [ ] ワークフロー作成
- [ ] キャッシュ設定
- [ ] CI成功確認
- [ ] PRマージ

---
**考慮事項**: 将来的にE2Eテスト（Playwright等）を同ワークフローで動かす想定があるため、ジョブ分割/パラレル実行を検討する。*** End Patch
