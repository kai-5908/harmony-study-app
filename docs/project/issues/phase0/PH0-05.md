# PH0-05: ソート・フィルター状態の実装

## 1. メタ情報
- **タスクID**: PH0-05
- **タイトル**: ソート/フィルターstateをHarmonyTaskListに実装
- **フェーズ**: Phase0
- **カテゴリ**: Frontend
- **担当**: _(TBD)_
- **ステータス**: Planned
- **関連Issue/PR**: -

## 2. 背景・目的
- HeaderにUIは存在するが、状態管理が未実装で操作しても何も起きない。
- フェーズ1以降でAPI連携しやすいよう、まずはstateとハンドラを整備する。

## 3. ゴールと非ゴール
- **ゴール**
  - `HarmonyTaskList` でソート・フィルターのstateを保持。
  - Headerで操作するとstateが更新される。
- **非ゴール**
  - 実際のデータ絞り込み（Phase2予定）。

## 4. スコープ詳細
- **対象コード**: `frontend/src/components/harmony-task/HarmonyTaskList.tsx` 等。

## 5. 実施ステップ
1. `useState` で `sortBy`, `filterBy` を追加。
2. Headerの `onSortChange`, `onFilterChange` にstate更新関数を渡す。
3. 将来のAPIリクエストやローカルフィルタに備えてメモ化/コメントを追加。
4. 単体テストでイベントがstate変更を引き起こすことを確認。

## 6. 成果物
- コード修正PR。
- ?テスト (`HarmonyTaskList` レンダリングテスト)。

## 7. 依存・ブロッカー
- **前提**: PH0-02完了。
- **考慮事項**: state値の型やenum化方針を検討。

## 8. リスクと対策
| リスク | 影響 | 対策 |
| --- | --- | --- |
| 値の初期化ミス | UIが不安定 | 既定値(`all`, `created-desc` 等)を定義 |

## 9. テスト・検証
- `npm run test`。
- 受け入れ: ドロップダウン操作でstateが変わり、ログ等で確認できる。

## 10. 計測
- なし。

## 11. ドキュメント
- 状態の意味を `development-backlog` へ追記するかコメントで説明。

## 12. タイムライン
- TBD

## 13. チェックリスト
- [ ] state追加
- [ ] ハンドラ連携
- [ ] テスト
- [ ] PR提出

---
**考慮事項**: 今後URLクエリと同期する可能性があるため、state管理ライブラリ利用の可否を検討しておく。
