# PH0-07: サンプル課題データの整備

## 1. メタ情報
- **タスクID**: PH0-07
- **タイトル**: JSONサンプルデータ整備とスキーマ検証
- **フェーズ**: Phase0
- **カテゴリ**: Backend
- **担当**: _(TBD)_
- **ステータス**: Planned
- **関連Issue/PR**: -

## 2. 背景・目的
- 現行の `backend/data/tasks.json` は最小データのみで、スキーマも保証されていない。
- サンプルを充実させ、Pydanticモデルでバリデーションすることで初期MVPの信頼性を高める。

## 3. ゴールと非ゴール
- **ゴール**
  - サンプル課題を複数追加し、想定ユースケース（バス課題、ソプラノ課題など）をカバー。
  - データ読み込みテストを追加。
- **非ゴール**
  - 実運用データの収集・管理。

## 4. スコープ詳細
- **対象**: `backend/data/tasks.json`, `tests/test_json_harmony_task_repository.py` など。
- **参照**: `models/harmony_task_model.py`.

## 5. 実施ステップ
1. 現在の JSON 構造を確認し、必要フィールドを整理。
2. サンプル課題（2〜3件以上）を追加。
3. Pydanticモデルで `load` するテストを追加/更新。
4. 追加データの説明をコメントまたはdocsへ追記。

## 6. 成果物
- 更新されたJSON。
- pytestでのバリデーションテスト。

## 7. 依存・ブロッカー
- **前提**: PH0-06（サービス層）とのコンフリクトに注意。
- **考慮事項**: MusicXMLファイルなど実体が必要か検討（現状はパス文字列のみ）。

## 8. リスクと対策
| リスク | 影響 | 対策 |
| --- | --- | --- |
| JSONの互換性低下 | 旧テスト失敗 | Migration方針をPR説明に記載 |

## 9. テスト計画
- `pytest tests/test_json_harmony_task_repository.py`.
- 受入基準: 追加データでテスト成功。

## 10. 計測
- なし。

## 11. ドキュメント
- `docs/domain/` などにサンプル課題一覧を追加することを検討。

## 12. タイムライン
- TBD

## 13. チェックリスト
- [ ] データ要件整理
- [ ] JSON更新
- [ ] テスト追加
- [ ] PR提出

---
**考慮事項**: 将来自動生成する場合のフォーマットを明文化しておく。*** End Patch
