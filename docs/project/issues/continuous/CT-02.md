# CT-02: ルール追加時にE2E回帰テストを整備する

## 1. メタ情報
- **タスクID**: CT-02
- **タイトル**: 禁則ルール追加に伴うE2Eテスト更新
- **フェーズ**: Continuous
- **カテゴリ**: QA / DX
- **担当**: _(TBD)_
- **ステータス**: Planned
- **関連Issue/PR**: PH1-09

## 2. 背景・目的
- 禁則や評価機能を追加すると、提出フロー全体に影響するためE2Eテストを随時更新する必要がある。

## 3. ゴールと非ゴール
- **ゴール**
  - ルール追加と同じPRでE2Eケースを更新する運用を確立。
  - 重要シナリオのカバレッジを維持。
- **非ゴール**
  - 全パターンの網羅（優先度の高いものに絞る）。

## 4. スコープ
- Playwright/Cypressテスト群、CI。

## 5. ステップ
1. 新ルールの受け入れ条件を整理。
2. E2Eシナリオに反映（成功/失敗ケース）。
3. CIで実行し安定しているか確認。

## 6. 成果物
- 更新されたE2Eテスト。

## 7. 依存・考慮
- **考慮事項**: バックエンドのモックを更新する必要があるか確認。

## 8. リスク
| リスク | 影響 | 対策 |
| --- | --- | --- |
| テストが不安定 | CIノイズ | 冪等なテストデータと待機を徹底 |

## 9. テスト
- E2Eテストそのもの。

## 10. タイムライン
- 継続。

## 11. チェックリスト
- [ ] 新ルールのE2Eケース追加
- [ ] CI確認
- [ ] ドキュメント更新（必要に応じて）

---
**考慮事項**: ルールが増えるとテスト時間が延びるため、スモーク／フルの2段階実行を検討。*** End Patch
